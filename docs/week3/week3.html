<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Probability (BST 230) Notes - 4&nbsp; Week 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../week4/week4.html" rel="next">
<link href="../week2/week2.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-title">Week 3</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Probability (BST 230) Notes</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Methods (BST 232) Notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week1/week1.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week2/week2.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week3/week3.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Week 3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week4/week4.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week5/week5.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 5</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week6/week6.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 6</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week7/week7.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 7</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week8/week8.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 8</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week9/week9.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 9</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week10/week10.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 10</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../week11/week11.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Week 11</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#probability-distributions-of-transformed-random-variables" id="toc-probability-distributions-of-transformed-random-variables" class="nav-link active" data-scroll-target="#probability-distributions-of-transformed-random-variables">Probability Distributions of Transformed Random Variables</a>
  <ul class="collapse">
  <li><a href="#group-exercise" id="toc-group-exercise" class="nav-link" data-scroll-target="#group-exercise">Group Exercise</a></li>
  <li><a href="#change-of-variables-piecewise" id="toc-change-of-variables-piecewise" class="nav-link" data-scroll-target="#change-of-variables-piecewise">Change of variables piecewise</a>
  <ul class="collapse">
  <li><a href="#example-normal-to-chi-squared-transformation" id="toc-example-normal-to-chi-squared-transformation" class="nav-link" data-scroll-target="#example-normal-to-chi-squared-transformation">Example: Normal to Chi-squared Transformation</a></li>
  </ul></li>
  <li><a href="#probability-integral-transform" id="toc-probability-integral-transform" class="nav-link" data-scroll-target="#probability-integral-transform">Probability Integral Transform</a></li>
  <li><a href="#generalized-inverse-of-a-cdf" id="toc-generalized-inverse-of-a-cdf" class="nav-link" data-scroll-target="#generalized-inverse-of-a-cdf">Generalized Inverse of a cdf</a></li>
  <li><a href="#inverse-probability-integral-transform" id="toc-inverse-probability-integral-transform" class="nav-link" data-scroll-target="#inverse-probability-integral-transform">Inverse Probability Integral Transform</a></li>
  </ul></li>
  <li><a href="#expected-values" id="toc-expected-values" class="nav-link" data-scroll-target="#expected-values">Expected Values</a>
  <ul class="collapse">
  <li><a href="#mean-of-a-bernoulli-random-variable" id="toc-mean-of-a-bernoulli-random-variable" class="nav-link" data-scroll-target="#mean-of-a-bernoulli-random-variable">Mean of a Bernoulli Random Variable</a></li>
  <li><a href="#mean-of-an-exponential-random-variable" id="toc-mean-of-an-exponential-random-variable" class="nav-link" data-scroll-target="#mean-of-an-exponential-random-variable">Mean of an Exponential Random Variable</a></li>
  <li><a href="#st.-petersburg-paradox" id="toc-st.-petersburg-paradox" class="nav-link" data-scroll-target="#st.-petersburg-paradox">St.&nbsp;Petersburg Paradox</a></li>
  <li><a href="#properties-of-expectation" id="toc-properties-of-expectation" class="nav-link" data-scroll-target="#properties-of-expectation">Properties of Expectation</a>
  <ul class="collapse">
  <li><a href="#expectation-minimizes-the-mean-squared-error" id="toc-expectation-minimizes-the-mean-squared-error" class="nav-link" data-scroll-target="#expectation-minimizes-the-mean-squared-error">Expectation minimizes the mean squared error</a></li>
  <li><a href="#existence-of-expected-values" id="toc-existence-of-expected-values" class="nav-link" data-scroll-target="#existence-of-expected-values">Existence of Expected Values</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-title">Week 3</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="probability-distributions-of-transformed-random-variables" class="level1">
<h1>Probability Distributions of Transformed Random Variables</h1>
<p>The uniform distribution has a particularly important role in probability. We define the uniform distribution on <span class="math inline">\((a,b)\)</span> where <span class="math inline">\(a &lt; b\)</span> as</p>
<p><span class="math display">\[f_U(u) = \frac{1}{b-a} \mathbb 1 ( a &lt; u &lt; b) \]</span></p>
<p>for <span class="math inline">\(u \in \mathbb R\)</span>. This is denoted <span class="math inline">\(U \sim \text{Uniform}(a,b)\)</span>.</p>
<p>The cdf of <span class="math inline">\(U \sim \text{Uniform}(a,b)\)</span> is</p>
<p><span class="math display">\[F_U(u) = \left\{ \begin{array}{ll} 0 \quad \quad &amp; \text{ if } u \leq a \\ (u-a)/(b-a) &amp; \text{ if } u \in (a,b) \\ 1 &amp; \text{ if } u \geq b \end{array}\right.\]</span></p>
<p>The standard uniform distribution Uniform(0,1) has the special property that <span class="math inline">\(CDF(u) = u\)</span>.</p>
<section id="group-exercise" class="level3">
<h3 class="anchored" data-anchor-id="group-exercise">Group Exercise</h3>
<ol type="1">
<li><p>If <span class="math inline">\(U \sim \text{Uniform}(0,1)\)</span> and <span class="math inline">\(a,b \in \mathbb R\)</span>, what is the pdf of <span class="math inline">\(Y = aU + b\)</span>?</p>
<p>Recall the formula for the pdf of a change of variables:</p>
<p><span class="math display">\[f_Y(y) = f_X(g^{-1}(y)) \left\lvert \frac{d}{dx} g^{-1}(y) \right\rvert\]</span></p>
<p>We have that <span class="math inline">\(g(x) = ax + b\)</span>, so <span class="math inline">\(g^{-1}(y) = (y-b)/a\)</span>.</p>
<p>So <span class="math inline">\(f_Y(y) = \mathbb 1(0 &lt; (y-b)/a &lt; 1) \left| \frac{d}{dy} (y-b)/a \right|\)</span></p>
<p><span class="math display">\[ = \mathbb 1(0 &lt; (y-b)/a &lt; 1) \frac{1}{a}\]</span> <span class="math display">\[ =  \frac{1}{a}\mathbb 1(b &lt; y &lt; a+b)\]</span></p>
<div class="cooltip">
<p>Answer: There is a slight problem if <span class="math inline">\(a = 0\)</span>, and <span class="math inline">\(Y = b\)</span>. We need to assume that <span class="math inline">\(a\)</span> is positive, otherwise the question is trivial.</p>
<p>The region of support is <span class="math inline">\((0,1)\)</span>. <span class="math inline">\(g(x) = ax + b\)</span> and <span class="math inline">\(g(X) = Y\)</span>. Now we use the theorem. Is it strictly monotone? It is, since it’s linear. We need the inverse: <span class="math inline">\(g^{-1}(y) = \frac{y-b}{a}\)</span>. Before we use the formula, we have to make sure that <span class="math inline">\(\frac{d}{dy} g^{-1}(y) = 1/a\)</span> is continuous. <span class="math display">\[f_Y(y) = f_X(g^{-1}(y)) \left| \frac{d}{dy} g^{-1}(y) \right|\]</span> <span class="math display">\[ = \mathbb 1 (0 &lt; \frac{y-b}{a} &lt; 1) \left| \frac{1}{a} \right|\]</span> <span class="math display">\[ = \frac{1}{a} \mathbb 1 (b &lt; y &lt; a+b).\]</span></p>
<p>We can recognize this as a uniform distribution. <span class="math display">\[Y \sim \text{Uniform}(b, b+a).\]</span></p>
</div></li>
<li><p>If <span class="math inline">\(U \sim \text{Uniform}(0,1)\)</span>, what is the pdf of <span class="math inline">\(Y = -\log(X)\)</span>? Again, we use the formula <span class="math display">\[f_Y(y) = f_X(g^{-1}(y)) \left| \frac{d}{dx} g^{-1}(y) \right|\]</span> where <span class="math inline">\(g(x) = -\log(x)\)</span> and therefore <span class="math inline">\(g^{-1}(y) = \exp(-y)\)</span>. Therefore <span class="math display">\[\frac{d}{dy} g^{-1}(y) = -\exp(-y)\]</span> and <span class="math display">\[\left\lvert\frac{d}{dy} g^{-1}(y)\right\rvert = \exp(-y)\]</span> So <span class="math display">\[f_Y(y) = \mathbb 1 (0 &lt; \exp(-y) &lt; 1) \exp(-y)\]</span> <span class="math display">\[ = \mathbb 1 ( -\infty &lt; -y &lt; 0) \exp(-y)\]</span> <span class="math display">\[ = \mathbb 1 ( 0 &lt; y &lt; \infty) \exp(-y)\]</span> <span class="math display">\[ = \left\{ \begin{array}{ll} e^{-y} \quad \quad &amp; \text{ if } &gt; 0 \\ 0 &amp; \text{ if } y \leq 0 \end{array} \right.\]</span></p></li>
</ol>
</section>
<section id="change-of-variables-piecewise" class="level2">
<h2 class="anchored" data-anchor-id="change-of-variables-piecewise">Change of variables piecewise</h2>
<p>Often <span class="math inline">\(g(x)\)</span> is not strictly monotone, but is piecewise strictly monotone, e.g., <span class="math inline">\(g(x) = x^2, \, \forall x \in \mathbb R\)</span>.</p>
<p>Suppose that <span class="math inline">\(X\)</span> is a continuous random variable and let <span class="math inline">\(\mathcal X = \{ x \colon f_X(x) &gt; 0 \}\)</span>.</p>
<p>Suppose <span class="math inline">\(g \colon \mathcal X \to \mathbb R\)</span> and <span class="math inline">\(A_0, A_1, ..., A_k\)</span> is a partition of <span class="math inline">\(\mathcal X\)</span> such that</p>
<ol type="1">
<li><span class="math inline">\(P(X \in A_0) = 0\)</span>,</li>
<li><span class="math inline">\(g\)</span> is strictly monotone on <span class="math inline">\(A_i\)</span> for <span class="math inline">\(i = 1,...,k\)</span>,</li>
<li>the inverse of <span class="math inline">\(g\)</span> on <span class="math inline">\(A_i\)</span>, say <span class="math inline">\(g_i^{-1}\)</span>, has a continuous derivative on <span class="math inline">\(g(A_i) = \{ g(x) \colon x \in A_i \}\)</span>,</li>
</ol>
<p>then</p>
<p><span class="math display">\[f_Y(y) = \sum_{i = 1}^k f_X(g^{-1}_i(y)) \left| \frac{d}{dy} g_i^{-1}(y) \right| \mathbb 1(y \in g(A_i)).\]</span></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="standalone_figures/partitioning_transforms/partitioning_transforms.svg" class="img-fluid figure-img" style="width:75.0%"></p>
<p></p><figcaption class="figure-caption">Example of partitioning a function into monotone sections</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>We were discussing in class whether or not the partitioning needs to be finite, and we think that one could use infinitely many partitions in some cases (say, for example, a distribution convolved with the <span class="math inline">\(\sin\)</span> function).</p>
<section id="example-normal-to-chi-squared-transformation" class="level3">
<h3 class="anchored" data-anchor-id="example-normal-to-chi-squared-transformation">Example: Normal to Chi-squared Transformation</h3>
<p>A random variable <span class="math inline">\(X\)</span> has the standard normal distribution if</p>
<p><span class="math display">\[f_X(x) = \frac{1}{\sqrt{2\pi}} \exp(-\frac{1}{2} x^2)\]</span> for <span class="math inline">\(x \in \mathbb R\)</span>. This is denoted <span class="math inline">\(X \sim \mathcal N(0,1)\)</span>.</p>
<p>If <span class="math inline">\(X \sim \mathcal N(0,1)\)</span>, then the random variable <span class="math inline">\(Y = X^2\)</span> has the chi-squared distribution, denoted <span class="math inline">\(Y \sim \chi^2\)</span>.</p>
<p><span class="math inline">\(g(x) = x^2\)</span> is strictly monotone on <span class="math inline">\(A_1 = (-\infty, 0)\)</span> and <span class="math inline">\(A_2 = (0,\infty)\)</span>, wiith inverses <span class="math inline">\(g_1^{-1}(y) = -\sqrt{x}\)</span> and <span class="math inline">\(g_2^{-1}(y) = \sqrt{x}\)</span>.</p>
<p>By the change of variables formula (in the piecewise case), for <span class="math inline">\(y &gt; 0\)</span> (remember we have to check when <span class="math inline">\(y \in g^{-1}(A_i)\)</span>),</p>
<p><span class="math display">\[f_Y(y) = \frac{1}{\sqrt{2\pi}} \exp(-\frac{1}{2}(-\sqrt{y})^2)\left| \frac{-1}{2\sqrt{y}} \right| +
\frac{1}{\sqrt{2\pi}} \exp(-\frac{1}{2}(\sqrt{y})^2)\left| \frac{1}{2\sqrt{y}} \right| \]</span> <span class="math display">\[ = \frac{1}{\sqrt{2\pi}} \frac{1}{\sqrt{y}} \exp(-\frac{1}{2} y).\]</span></p>
<p>Along the way, we had to evaluate <span class="math inline">\(\frac{d}{dy} (-\sqrt{y}) = \frac{d}{dy} (-y^{1/2}) = \frac{-1}{2}y^{-1/2}.\)</span></p>
<p>We could write this ever-so-slightly more precisely:</p>
<p><span class="math display">\[ = \left\{ \begin{array}{ll} \frac{1}{\sqrt{2\pi}} \frac{1}{\sqrt{y}} \exp(-\frac{1}{2} y) \quad &amp; \text{ if } y &gt; 0 \\
0 &amp; \text{ otherwise } \end{array} \right.\]</span></p>
<div class="hottip">
<p>These kinds of problems are great for exams!</p>
</div>
</section>
</section>
<section id="probability-integral-transform" class="level2">
<h2 class="anchored" data-anchor-id="probability-integral-transform">Probability Integral Transform</h2>
<p>Let <span class="math inline">\(X\)</span> be a random variable with cdf <span class="math inline">\(F\)</span>. If <span class="math inline">\(F\)</span> is a continuous function, then <span class="math inline">\(F(X) \sim \text{Uniform}(0,1)\)</span>.</p>
<p>This is called the probability integral transform.</p>
<p>Example: Let <span class="math inline">\(X \sim \text{Exponential}(\lambda)\)</span>. The cdf of <span class="math inline">\(X\)</span> is <span class="math display">\[F(x) = (1-\exp(-\lambda x)) \mathbb 1(x &gt; 0),\]</span> which is a continuous function. Therefore, <span class="math display">\[1 - \exp(-\lambda X) \sim \text{Uniform}(0,1).\]</span></p>
<p>Why can we drop the <span class="math inline">\(\mathbb 1 (X &gt; 0)\)</span> factor? Because <span class="math inline">\(X\)</span> is an exponential variable, so <span class="math inline">\(X &gt; 0\)</span> with probability 1. This is like asking <span class="math display">\[(1-e^{-\lambda x}) \mathbb 1 (X &gt; 0) \stackrel{d}{=} (1-e^{-\lambda x})?\]</span></p>
<p>Can we simplify further? Yes! <span class="math inline">\(\text{Uniform}(0,1) = 1 - \text{Uniform}(0,1)\)</span>.</p>
<p>So we can rewrite this:</p>
<p><span class="math display">\[\exp{-\lambda x} = \text{Uniform}(0,1).\]</span></p>
</section>
<section id="generalized-inverse-of-a-cdf" class="level2">
<h2 class="anchored" data-anchor-id="generalized-inverse-of-a-cdf">Generalized Inverse of a cdf</h2>
<p>A cdf <span class="math inline">\(F\)</span> can fail to be invertible in two ways:</p>
<ol type="1">
<li><span class="math inline">\(F(x) = F(y)\)</span> for some <span class="math inline">\(x \neq y\)</span> (it is flat in some region), or</li>
<li><span class="math inline">\(F\)</span> is discontinuous at some <span class="math inline">\(x\)</span> (it has a jump at some point).</li>
</ol>
<p>The generalized inverse of a cdf <span class="math inline">\(F\)</span> is the function</p>
<p><span class="math display">\[G(u) = \inf\{x \in \mathbb R\colon F(x) \geq u \}\]</span> for <span class="math inline">\(u \in (0,1).\)</span> We write <span class="math inline">\(F_{-1}\)</span> to denote this function.</p>
<p>When <span class="math inline">\(F\)</span> is invertible, the generalized inverse equals the inverse, so there is no conflict in notation.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="standalone_figures/generalized_inverse/1/generalized_inverse1.svg" class="img-fluid" style="width:50.0%"></p>
</div>
<div class="cell-output-display">
<p><img src="standalone_figures/generalized_inverse/2/generalized_inverse2.svg" class="img-fluid" style="width:50.0%"></p>
</div>
</div>
</section>
<section id="inverse-probability-integral-transform" class="level2">
<h2 class="anchored" data-anchor-id="inverse-probability-integral-transform">Inverse Probability Integral Transform</h2>
<p>Let <span class="math inline">\(F\)</span> be any cdf. If <span class="math inline">\(U \sim \text{Uniform}(0,1)\)</span> then <span class="math inline">\(F^{-1}(U)\)</span> is a random variable with cdf <span class="math inline">\(F\)</span>.</p>
<p>This is called the <span class="vocab">inverse probability integral transform</span> or the <span class="vocab">Smirnov transform</span>.</p>
<p>The two transforms can be summarized as follows. Suppose <span class="math inline">\(U \sim \text{Uniform}(0,1)\)</span> and <span class="math inline">\(X\)</span> is a random variable with cdf <span class="math inline">\(F\)</span>. Then</p>
<ol type="1">
<li><span class="math inline">\(F^{-1}(U) \stackrel{d}{=} X.\)</span></li>
<li><span class="math inline">\(F(X) \stackrel{d}{=} U\)</span> if <span class="math inline">\(F\)</span> is continuous, but not otherwise.</li>
</ol>
<div class="cooltip">
<p>Activity: What is the distribution of <span class="math inline">\(F(X)\)</span> in this example?</p>
<p>My thoughts:</p>
<p>If <span class="math display">\[F(x) = \left\{ \begin{array}{ll}
0 \quad &amp; \text{ if } x \leq 0 \\
x \quad &amp; \text{ if } 0 &lt; x &lt; .5 \\
1 &amp; \text{ if } .5 \leq x
\end{array}\right.\]</span></p>
<p>So if we take the derivative, <span class="math display">\[\frac{d}{dx} F(x) = f_X(x) = \left\{
\begin{array}{ll}
0 \quad &amp; \text{ if } x \leq 0 \\
1 \quad &amp; \text{ if } 0 &lt; x &lt; .5 \\
0 &amp; \text{ if } .5 \leq x
\end{array}
\right. \]</span></p>
<p>Another student pointed out that looking at the height of the jump, there’s <span class="math inline">\(Pr(X = .5) = .5\)</span>,</p>
<p>So is it <span class="math inline">\(f_X(x) = \mathbb 1(0 &lt; x &lt; 0.5) + .5 \times \delta_{x = .5}(x)\)</span>?</p>
<p>There is a small mistake. The delta-distribution should be at 1, because when <span class="math inline">\(x=1\)</span>, <span class="math inline">\(F(x) = 1\)</span>.</p>
<p>So <span class="math display">\[F(x) = \left\{ \begin{array}{ll}
1 &amp; \text{ with probability }\frac{1}{2} \\
\text{Uniform}(0,\frac{1}{2}) &amp; \text{ with probability } \frac{1}{2}
\end{array} \right.\]</span></p>
</div>
<p>Why should we care about this? Well it’s really useful computationally for generating random numbers that have different probability distributions from the uniform distribution. The <a href="https://en.wikipedia.org/wiki/Mersenne_Twister">Mersenne-Twister</a> algorithm is the state of the art for generating uniform distribution random samples, and then often to get random numbers from other distributions one employs the above type of transformations under-the-hood.</p>
</section>
</section>
<section id="expected-values" class="level1">
<h1>Expected Values</h1>
<p>The <span class="vocab">expected value</span> denoted <span class="math inline">\(\mathbb E(X)\)</span> or <span class="math inline">\(\mathbb EX\)</span> is the average over all values that the random variable takes weighted according to their probability or probability density. It is also referred to as the <span class="vocab">expectation</span> or <span class="vocab">mean</span> of <span class="math inline">\(X\)</span>.</p>
<p>Let <span class="math inline">\(X\)</span> be a random variable and let <span class="math inline">\(g(x)\)</span> be a measurable function. If <span class="math inline">\(X\)</span> is discrete then the expected value is</p>
<p><span class="math display">\[\mathbb Eg(X) = \sum_{x \in \mathcal X} g(x) f(x)\]</span></p>
<p>Where <span class="math inline">\(\mathcal X = \{ X(s) : s \in S \}\)</span> is the range of <span class="math inline">\(X\)</span> and <span class="math inline">\(f(x)\)</span> is the pmf of <span class="math inline">\(X\)</span>.</p>
<p>If <span class="math inline">\(X\)</span> is continuous then the <span class="vocab">expected value</span> of <span class="math inline">\(g(X)\)</span> is <span class="math display">\[\mathbb Eg(X) = \int_{-\infty}^\infty g(x) f(x) \, dx\]</span> where <span class="math inline">\(f(x)\)</span> is the pdf of <span class="math inline">\(X\)</span>.</p>
<section id="mean-of-a-bernoulli-random-variable" class="level3">
<h3 class="anchored" data-anchor-id="mean-of-a-bernoulli-random-variable">Mean of a Bernoulli Random Variable</h3>
<p>A random variable <span class="math inline">\(X\)</span> has the <span class="math inline">\(\text{Bernoulli}(q)\)</span> distribution if it has pmf</p>
<p><span class="math display">\[f_X(x) = P(X=x) = \left\{ \begin{array}{ll}
q \quad &amp; \text{if } x = 1 \\
1 - q \quad &amp; \text{if } x = 0 \\
\end{array}\right.\]</span></p>
<p><span class="math inline">\(X\)</span> can be thought of as the outcome of a coin-flip.</p>
<p>If <span class="math inline">\(X \sim \text{Bernoulli}(q)\)</span> then the mean of <span class="math inline">\(X\)</span> is</p>
<p><span class="math display">\[\mathbb EX = \sum_{x \in \{ 0, 1\} xf_X(x)\]</span> <span class="math display">\[ = \sum_{x \in \{ 0, 1\} x q^x(1-q)^{1-x}\]</span> <span class="math display">\[ = 0 \times (1-q) + 1 \times q\]</span> <span class="math display">\[ = q.\]</span></p>
</section>
<section id="mean-of-an-exponential-random-variable" class="level3">
<h3 class="anchored" data-anchor-id="mean-of-an-exponential-random-variable">Mean of an Exponential Random Variable</h3>
<p>Suppose <span class="math inline">\(X \sim \text{Exponential}(\beta)\)</span>. The pdf of <span class="math inline">\(X\)</span> is <span class="math display">\[f_X(x) = \beta (-\beta x) \mathbb 1(x &gt; 0).\]</span></p>
<p>The mean of <span class="math inline">\(X\)</span> is</p>
<p><span class="math display">\[\mathbb EX = \int_{-\infty}^\infty x f_X(x) dx\]</span> <span class="math display">\[ = \int_{0}^\infty x \beta \exp(-\beta x) \, dx\]</span> <span class="math display">\[ = (\text{using integration by parts, details omitted})\]</span> <span class="math display">\[ = \int_{0}^\infty \exp(-\beta x) \, dx\]</span> <span class="math display">\[ = 1/\beta.\]</span></p>
</section>
<section id="st.-petersburg-paradox" class="level3">
<h3 class="anchored" data-anchor-id="st.-petersburg-paradox">St.&nbsp;Petersburg Paradox</h3>
<p>Consider the following betting game.</p>
<p>The player pays <span class="math inline">\(c\)</span> cents to play one time.</p>
<p>A fair coin is tossed repeatedly until it comes up tails.</p>
<p>The player wins <span class="math inline">\(2^x\)</span> cents where <span class="math inline">\(x =\)</span> number of coin tosses.</p>
<div class="cooltip">
<ol type="1">
<li>If you are managing a casino offering this game, how much should you charge players per play?</li>
</ol>
<p>We should charge them enough such that the expected value of the casino’s earnings is positive (ideally with a margin).</p>
<p>If their winnings are <span class="math inline">\(\mathbb E2^X\)</span> where <span class="math inline">\(X \sim Pr(\text{it takes } k \text{ flips to get one tails}) = \left(\frac{1}{2}\right)^k\)</span>, then the casinos expected earnings are <span class="math inline">\(c - \mathbb E2^X\)</span>.</p>
<p>If <span class="math inline">\(g(x) = 2^x\)</span>, then the transformation of our variable is:</p>
<p><span class="math display">\[f_{2^X}(x) = \frac{1}{2}^{\log_2{k}} | \frac{d}{dx} \log_2(x) |\]</span></p>
<p>And we would calculate out <span class="math inline">\(\mathbb E2^X\)</span> using that formula?</p>
<p>Answer:</p>
<p>We should have looked at it as a Geometric random variable. The expected value of a Geometric random variable…</p>
<p><span class="math display">\[X \sim \text{Geometric}\left(\frac{1}{2}\right)\]</span> <span class="math display">\[f_X(x) = Pr(X = x) = \left( \frac{1}{2} \right)^x \mathbb 1 ( x \in \{ 1, 2, 3, ... \}).\]</span></p>
<p>Let <span class="math inline">\(g(x)\)</span> represent the winnings.</p>
<table class="table">
<thead>
<tr class="header">
<th>x</th>
<th>1</th>
<th>2</th>
<th>3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>f(x)</td>
<td>1/2</td>
<td>1/4</td>
<td>1/8</td>
</tr>
<tr class="even">
<td>g(x)</td>
<td>2</td>
<td>4</td>
<td>8</td>
</tr>
</tbody>
</table>
<p><span class="math display">\[\mathbb E(\text{winnings}) = \mathbb E(g(X)) = \sum_{x=1}^\infty g(x) f(x)\]</span></p>
<p><span class="math display">\[ = 2\frac{1}{2} + 2^2\frac{1}{2^2} + 2^3 \frac{1}{2^3} + ...\]</span> <span class="math display">\[ = 1 + 1 + 1 + ... = \infty\]</span></p>
<p>But at the same time, intuitionally, if you’re playing this game, experientally, most of the time one plays the payout is low.</p>
<p>So one should think about instead the probability of getting a payout that is <span class="math inline">\(c_1 &gt; 0\)</span> higher than one pays, and one wants the probability to be quite a bit higher of getting that payout to be quite a bit greater than <span class="math inline">\(50\%\)</span>, not just slightly above.</p>
<p>How does the law of large numbers apply?</p>
<p><span class="math display">\[\frac{1}{n} \sum_{i=1}^n g(X_i) \to \mathbb Eg(X)\]</span></p>
<ol start="2" type="1">
<li>If you are a player and you can only play one time, how much would you pay to play?</li>
</ol>
<p>This is left more subjective and depends on (as above) how much return on investment one desires and with what probability.</p>
</div>
<section id="example-dicey-st.-petersburg" class="level4">
<h4 class="anchored" data-anchor-id="example-dicey-st.-petersburg">Example “Dicey” St.&nbsp;Petersburg</h4>
<p>To make it more exciting, suppose the game is modified as follows.</p>
<ol type="1">
<li>There is no cost to play.</li>
<li>A fair coin is tossed until it comes up tails (say, <span class="math inline">\(x\)</span> times).</li>
<li>The player rolls a pair of dice.</li>
<li>If the dice comes up “snake eyes”, that is <span class="math inline">\((1,1)\)</span>, then the player pays <span class="math inline">\(35 \times 2^x\)</span> cents, otherwise the player pays <span class="math inline">\(2^x\)</span> cents.</li>
</ol>
<div class="cooltip">
<p>What is the expected value, in cents, for the player?</p>
<p>What’s the probability of getting snake-eyes: <span class="math inline">\(1/36\)</span>, and the chance of winning is <span class="math inline">\(35/36\)</span>.</p>
<p>So the expected value of winnings for the player is:</p>
<p><span class="math display">\[\mathbb E(\text{winnings}) = \mathbb E(2^x f_X(x) \frac{35}{36} - 2^x f_X(x) \frac{1}{36})\]</span></p>
<p><span class="math display">\[ = \sum_{x=1}^\infty 2^x f(x) \frac{35}{36} + \sum_{x=1}^\infty (-35\cdot 2^x) f(x) \frac{1}{36}\]</span></p>
<p><span class="math display">\[ = \sum_{x=1}^\infty 2^x f(x) \left(\frac{35}{36} - \frac{35}{36}\right) = 0\]</span></p>
<p>But earlier we showed that the <span class="math inline">\(\mathbb E(\text{winnings}) = \infty\)</span> before introducing the “dicey” version of the game.</p>
<p>So really, this is like <span class="math display">\[\mathbb E(\text{winnings}) = \infty \cdot \frac{35}{36} - \infty \cdot \frac{35}{36}, \text{ which is not defined.}\]</span></p>
<p>Even if we changed the “dicey” game so the payer only has to pay <span class="math inline">\(2^x\)</span> instead of <span class="math inline">\(35 \times 2^x\)</span></p>
<p>So we say the <strong>expected value does not exist</strong> in this case.</p>
<p>Notably, the conditional expectation does exist. We can condition on <span class="math inline">\(X\)</span> and find that <span class="math inline">\(\mathbb E(W | X) = 0\)</span> (in the original specification of the “dicey” game).</p>
<p>It’s kind of a good puzzle as to how it is that <span class="math inline">\(\mathbb E(W|X) = 0\)</span> even though the law of iterated expectations tells us that <span class="math inline">\(\mathbb E(W) = \mathbb E(\mathbb E(W|X)) = \text{undefined}\)</span></p>
</div>
<p>Takeaways:</p>
<p>Sometimes, expected values aren’t the right way to think about “average” outcomes.</p>
<p>Nicolas Bernoulli proposed the St.&nbsp;Petersburg paradox in 1713 to illustrate this.</p>
<p>Nicolas was the nephew of Jacob Bernoulli, who we met earlier, one of the many famous mathematicians and scientists in the Bernoulli family in the 1600-1700s.</p>
</section>
</section>
<section id="properties-of-expectation" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-expectation">Properties of Expectation</h2>
<p>Let <span class="math inline">\(X\)</span> be a random variable with range <span class="math inline">\(\mathcal X\)</span> and let <span class="math inline">\(g,h \colon \mathcal X \to \mathbb R\)</span> be measurable functions such that <span class="math inline">\(\mathbb Eg(X)\)</span> and <span class="math inline">\(\mathbb Eh(X)\)</span> exist and are finite.</p>
<p>The following properties hold:</p>
<ol type="1">
<li><span class="math inline">\(\mathbb E(c\, g(X)) = c \mathbb Eg(X)\)</span> for any <span class="math inline">\(c \in \mathbb R\)</span>.</li>
<li><span class="math inline">\(\mathbb E(g(X) + h(X)) = \mathbb Eg(X) + \mathbb Eh(X)\)</span></li>
<li>If <span class="math inline">\(g(x) \leq h(x)\)</span> for all <span class="math inline">\(x \in \mathcal X\)</span>, then <span class="math inline">\(\mathbb Eg(X) \leq \mathbb Eh(X)\)</span>.</li>
</ol>
<section id="expectation-minimizes-the-mean-squared-error" class="level3">
<h3 class="anchored" data-anchor-id="expectation-minimizes-the-mean-squared-error">Expectation minimizes the mean squared error</h3>
<p>Suppose we want to choose one point <span class="math inline">\(a\)</span> that predicts <span class="math inline">\(Y\)</span> as closely as possible (for instance, as in regression).</p>
<p>If we define “close” in terms of mean squared error, <span class="math inline">\(\mathbb E(|Y - a|^2)\)</span>, then <span class="math inline">\(\mathbb EY\)</span> is the optimal choice of <span class="math inline">\(a\)</span>.</p>
<p>To see this, observe that <span class="math display">\[\mathbb E(|Y-a|^2) = \mathbb E(Y^2 - 2aY + a^2)\]</span> <span class="math display">\[ = \mathbb EY^2 - 2a\mathbb EY + a^2.\]</span></p>
<p>To minimize, set the derivative equal to zero:</p>
<p><span class="math display">\[ 0 = \frac{d}{da} \mathbb E(|Y-a|^2) = -2\mathbb EY + 2a\]</span></p>
<p>and solve for <span class="math inline">\(a\)</span> to obtain <span class="math inline">\(a = \mathbb EY\)</span>.</p>
</section>
<section id="existence-of-expected-values" class="level3">
<h3 class="anchored" data-anchor-id="existence-of-expected-values">Existence of Expected Values</h3>
<p>The positive part of <span class="math inline">\(X\)</span>, denoted <span class="math inline">\(X^+\)</span>, is <span class="math inline">\(X^+ = \max(X,0)\)</span>.</p>
<p>The negative part of <span class="math inline">\(X\)</span>, denoted <span class="math inline">\(X^-\)</span>, is <span class="math inline">\(X^- = -\min(X,0)\)</span>.</p>
<p>Note that <span class="math inline">\(X = X^+ - X^-\)</span> and <span class="math inline">\(|X| = X^+ + X^-\)</span>.</p>
<center>
<img src="standalone_figures/positive_and_neg_parts/pos_part/pos_part.svg" width="45%"> <img src="standalone_figures/positive_and_neg_parts/neg_part/neg_part.svg" width="45%">
</center>
<section id="existence-vs.-finiteness" class="level4">
<h4 class="anchored" data-anchor-id="existence-vs.-finiteness">Existence vs.&nbsp;Finiteness</h4>
<p>We say that the expected value of <span class="math inline">\(X\)</span> exists if either <span class="math inline">\(\mathbb EX^+ &lt; \infty\)</span> or <span class="math inline">\(\mathbb EX^- &lt; \infty\)</span> or both. This definition differs from Casella &amp; Berger’s definition.</p>
<p>If <span class="math inline">\(\mathbb E|X| &lt; \infty\)</span> then <span class="math inline">\(\mathbb EX\)</span> exists.</p>
<ul>
<li>This is a sufficient (but not necessary) condition for existence.</li>
<li>Recall that <span class="math inline">\(|X| = X^+ + X^-\)</span>, so <span class="math inline">\(\mathbb E|X| = \mathbb EX^+ + \mathbb EX^-\)</span>.</li>
<li>Therefore if <span class="math inline">\(\mathbb E|X| &lt; \infty\)</span>, then <span class="math inline">\(\mathbb EX^+ &lt; \infty\)</span> and <span class="math inline">\(\mathbb EX^- &lt; \infty\)</span>, since <span class="math inline">\(X^+ \geq 0\)</span> and <span class="math inline">\(X^- \geq 0\)</span>.</li>
</ul>
<p>In fact, if <span class="math inline">\(\mathbb E|X| &lt; \infty\)</span>, then <span class="math inline">\(\mathbb EX\)</span> is finite. That is, <span class="math inline">\(\mathbb EX \in \mathbb R\)</span>. This is because <span class="math inline">\(\mathbb EX = \mathbb EX^+ - \mathbb EX^-\)</span>.</p>
<div class="cooltip">
<p>Why does <span class="math inline">\(\mathbb E|X|\)</span> always exist? Because <span class="math inline">\(|X|^- = 0\)</span> and hence <span class="math inline">\(\mathbb E|X|^- &lt; \infty\)</span>, and therefore we satisfy the definition of existence for an expectation that either the expectation of the positive part or the negative part are finite.</p>
<p>The only time the expectation doesn’t exist is when the expectation of the positive part and negative part are both infinite (resulting in <span class="math inline">\(\mathbb EX = \mathbb EX^+ - \mathbb EX^- = \infty - \infty = \text{undefined}\)</span>).</p>
</div>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="ctesta01/ProbBST230" data-repo-id="R_kgDOKPRYwg" data-category="General" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../week2/week2.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Week 2</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../week4/week4.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-title">Week 4</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>